src-tauri/
├── Cargo.toml
├── tauri.conf.json
└── src/
    ├── main.rs              // 入口文件：极简，只负责装配依赖和启动
    ├── lib.rs               // 库入口：暴露模块，便于集成测试
    │
    ├── common/              // [公共层]：全局通用的类型定义
    │   ├── mod.rs
    │   ├── state.rs         // AppState, SharedEngine 定义
    │   ├── errors.rs        // 全局 AppError 定义 (使用 thiserror)
    │   └── events.rs        // 定义发给前端的事件名常量 (防止魔法字符串)
    │
    ├── core/                // [核心层]：纯业务逻辑，不依赖 Tauri，可独立测试
    │   ├── mod.rs
    │   ├── engine.rs        // 正则引擎逻辑 (MaskEngine)
    │   └── rules.rs         // 规则实体定义 (Rule struct)
    │
    ├── infra/               // [基建层]：与操作系统交互 (文件系统, 剪贴板)
    │   ├── mod.rs
    │   ├── fs/
    │   │   ├── mod.rs
    │   │   └── processor.rs // 并行文件处理 (IO背压逻辑)
    │   ├── clipboard/
    │   │   ├── mod.rs
    │   │   ├── handler.rs   // 监听器实现
    │   │   └── monitor.rs   // 启动和管理逻辑
    │   └── config/
    │       ├── mod.rs
    │       └── loader.rs    // 配置文件加载/保存
    │
    └── api/                 // [接口层]：Tauri Commands，处理前端交互
        ├── mod.rs
        ├── files.rs         // #[tauri::command] fn process_file
        ├── text.rs          // #[tauri::command] fn mask_text
        └── system.rs        // #[tauri::command] fn update_rules